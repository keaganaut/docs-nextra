import { Redoc } from "components/Redoc";

<Redoc spec={props.spec} />

export async function getStaticProps() {
  const res = await fetch("https://api.dev.y42.dev/gateway/openapi.json");
  const spec = await res.json();

// fallback to read openapispec from filesystem
// const filePath = path.join(process.cwd(), "./redoc/y42_openapi.json");
// const jsonData = await fsPromises.readFile(filePath);
// const objectData = JSON.parse(jsonData.toString());

return {
props: { spec },
revalidate: 43200,
};
}
